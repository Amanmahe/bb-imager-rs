[package]
name = "bb-imager-gui"
description = "BeagleBoard Imaging Utility"
version.workspace = true
authors.workspace = true
edition.workspace = true
repository.workspace = true
license.workspace = true

[dependencies]
iced = { version = "0.13.1", features = ["image", "svg", "tokio", "advanced", "lazy"] }
rfd = { version = "0.15.2", default-features = false, features = ["xdg-portal", "tokio"] }
bb-imager = { path = "../bb-imager", features = ["config"] }
tracing-subscriber = { version = "0.3.19", features = ["env-filter"] }
tracing = "0.1.41"
iced_aw = { version = "0.12.0", default-features = false, features = ["badge"] }
image = "0.25.5"
tokio = { version = "1.43.0", default-features = false, features = ["macros"] }
webbrowser = "1.0.3"
notify-rust = "4.11.5"
url = { version = "2.5.4" }
whoami = "1.5.2"
localzone = "0.3.1"
tokio-stream = "0.1.17"
iced-loading = { path = "../iced-loading" }
serde = { version = "1.0.218", features = ["derive"] }
serde_json = { version = "1.0.139" }
directories = "6.0.0"
bb-downloader = { path = "../bb-downloader", features = ["json"] }

[build-dependencies]
embed-resource = "2.5.0"

[package.metadata.deb]
assets = [
	["target/release/bb-imager-gui", "/usr/bin/bb-imager-gui", "755"],
	["assets/packages/linux/BeagleBoardImager.desktop", "/usr/share/applications/org.beagleboard.bb-imager.desktop", "644"],
	["assets/icons/icon.png", "/usr/share/icons/hicolor/128x128/apps/bb-imager.png", "644"],
	["assets/packages/linux/udev/10-beagle.rules", "/etc/udev/rules.d/10-beagle.rules", "644"]
]

[features]
pb2_mspm0 = ["bb-imager/pb2_mspm0_dbus"]

[target.'cfg(target_os = "linux")'.dependencies]
bb-imager = { path = "../bb-imager", features = ["udev", "config"] }

[target.'cfg(target_os = "macos")'.dependencies]
bb-imager = { path = "../bb-imager", features = ["macos_authopen", "config"] }
